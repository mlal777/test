<!doctype html>
<html>
  <head>
    <title>Just Compare</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style type="text/css">
        body {
            font-family: Arial;
            margin: auto;
        }

        * {
            box-sizing: border-box;
        }

        #result {
            height: 50%;
            width: 80%;
            border: 2px solid grey;
            overflow-y:auto;
            margin-top: 10px;
        }


        form.search input[type=text] {
            padding: 10px;
            font-size: 17px;
            border: 1px solid grey;
            float: left;
            width: 60%;
            height: 20%;
            margin: 0 auto;
            background: #f1f1f1;    
        }

        form.search button {
            float: left;
            width: 20%;
            height: 20%;
            padding: 10px;
            background: #2196F3;
            color: white;
            font-size: 17px;
            border: 1px solid grey;
            border-left: none;
            cursor: pointer;
            margin: 0 auto;
        }

        form.search button:hover {
            background: #0b7dda;
        }
    </style>
  </head>
  <body>
    <h2>Just Compare</h2>
    <!-- The form -->
    <form class="search" id="compareform">
        <input type="text" id="input_id" placeholder="Look up..">
        <button type="submit">GO</button>
    </form>
    <pre><div id="result"></div></pre>

    <script>
        $(document).ready(function() {
            $('#compareform').submit(function(event) {
                event.preventDefault();

                $("#result").css({"text-align": "center"});
                $("#result").html("Please wait, Loading...");

                $.ajax({
                    url: "/compare",
                    type: "GET",
                    dataType: "JSON",
                    data: {
                        product_url: $("#input_id").val(),
                    },
                    success: function(data) {
                        $("#result").css({"text-align": "left"});
                        $('#result').html(JSON.stringify(data, null, 2));
                    },
                    error: function(xhr, statusText) { $('#result').html("Server did not return a response."); }
                });
            });
        });
    </script>
  </body>
</html>